type: 'application'

fileGroups:
  sources:
    - 'app/**/*'
    - 'types/**/*'

workspace:
  inheritedTasks:
    exclude: ['test']

tasks:
  build:
    command: 'pnpm run build'
    options:
      runInCI: false
    deps:
      - 'common:build'
      - 'types:build'
    inputs:
      - '${fileGroups.sources}'

  dev:
      # Can't use `remix dev` because it can't find npm bins correctly.
      # It requires Node's module resolution.
      command: 'pnpm run dev'
      options:
        runInCI: false
      deps:
        - 'common:build'
        - 'types:build'